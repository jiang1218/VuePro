(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-ea23a238"],{1948:function(t,e,a){},b3e2:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-form-item",{attrs:{label:"频道列表："}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.id,callback:function(e){t.id=e},expression:"id"}},t._l(t.options,(function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})})),1)],1)},n=[],i={name:"pindao",data:function(){return{id:"",options:""}},props:{son:{default:0}},watch:{son:function(t,e){this.id=t},id:function(t,e){this.$emit("slt",t)}},created:function(){var t=this;this.$http.get("/channels").then((function(e){t.options=e.data.data.channels})).catch((function(t){console.log(t)}))}},o=i,r=a("2877"),l=Object(r["a"])(o,s,n,!1,null,"ea14bb7c",null);e["a"]=l.exports},cf54:function(t,e,a){"use strict";var s=a("1948"),n=a.n(s);n.a},f2b4:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[t._v("全部图文")])]),a("div",{staticClass:"text item"},[a("el-form",{ref:"searchFormRef",attrs:{model:t.searchForm,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"文章状态："}},[a("el-radio-group",{model:{value:t.searchForm.status,callback:function(e){t.$set(t.searchForm,"status",e)},expression:"searchForm.status"}},[a("el-radio",{attrs:{label:""}},[t._v("全部")]),a("el-radio",{attrs:{label:"0"}},[t._v("草稿")]),a("el-radio",{attrs:{label:"1"}},[t._v("待审核")]),a("el-radio",{attrs:{label:"2"}},[t._v("审核通过")]),a("el-radio",{attrs:{label:"3"}},[t._v("审核失败")]),a("el-radio",{attrs:{label:"4",disabled:""}},[t._v("已删除")])],1)],1),a("pinDao",{attrs:{son:t.searchForm.channel_id},on:{slt:t.getSonId}}),a("el-form-item",{attrs:{label:"时间选择："}},[a("div",{staticClass:"block"},[a("el-date-picker",{attrs:{type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期","value-format":"yyyy-MM-dd"},model:{value:t.totime,callback:function(e){t.totime=e},expression:"totime"}})],1)])],1)],1)]),a("el-card",{staticClass:"box-card",staticStyle:{"margin-top":"20px"}},[a("div",{staticClass:"text item"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData}},[a("el-table-column",{attrs:{label:"头像",width:"180"},scopedSlots:t._u([{key:"default",fn:function(t){return a("img",{staticStyle:{"border-radius":"50%"},attrs:{src:t.row.cover.images[0]||"https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1573624120194&di=8c90a369173bef77f96523d3ee74e2bd&imgtype=0&src=http%3A%2F%2Fn8.cmsfile.pg0.cn%2Fgroup4%2FM00%2F03%2F17%2FCgoOFlnbBveAYMDQAACYNd32mDA603.jpg",alt:"没有头像",width:"80",height:"80"}})}}])}),a("el-table-column",{attrs:{prop:"title",label:"姓名",width:"180"}}),a("el-table-column",{attrs:{label:"状态",prop:"status"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{directives:[{name:"show",rawName:"v-show",value:0===e.row.status,expression:"stData.row.status===0"}],attrs:{type:"primary",size:"mini"}},[t._v("草稿")]),a("el-button",{directives:[{name:"show",rawName:"v-show",value:1===e.row.status,expression:"stData.row.status===1"}],attrs:{type:"info",size:"mini"}},[t._v("待审核")]),a("el-button",{directives:[{name:"show",rawName:"v-show",value:2===e.row.status,expression:"stData.row.status===2"}],attrs:{type:"success",size:"mini"}},[t._v("审核通过")]),a("el-button",{directives:[{name:"show",rawName:"v-show",value:3===e.row.status,expression:"stData.row.status===3"}],attrs:{type:"warning",size:"mini"}},[t._v("审核失败")]),a("el-button",{directives:[{name:"show",rawName:"v-show",value:4===e.row.status,expression:"stData.row.status===4"}],attrs:{type:"danger",size:"mini"}},[t._v("已删除")])]}}])}),a("el-table-column",{attrs:{prop:"pubdate",label:"时间"}}),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"primary",icon:"el-icon-edit",circle:"",size:"mini"},nativeOn:{click:function(a){return t.eild(e.row.id)}}}),a("el-button",{attrs:{type:"danger",icon:"el-icon-delete",circle:"",size:"mini"},nativeOn:{click:function(a){return t.del(e.row.id)}}})]}}])})],1)],1),a("div",{staticClass:"item text clearfix bottom"},[a("div",{staticClass:"block"},[a("el-pagination",{attrs:{"current-page":t.searchForm.page,"page-sizes":[10,20,30,40],"page-size":t.searchForm.per_page,layout:"total, sizes, prev, pager, next, jumper",total:t.tot},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)])])],1)},n=[],i=a("b3e2"),o={name:"Article",created:function(){this.getArticle()},components:{pinDao:i["a"]},data:function(){return{tot:0,options:null,searchForm:{channel_id:"",status:"",begin_pubdate:"",end_pubdate:"",page:1,per_page:null},totime:"",tableData:null}},watch:{totime:function(t){t?(this.searchForm.begin_pubdate=t[0],this.searchForm.end_pubdate=t[1]):(this.searchForm.begin_pubdate="",this.searchForm.end_pubdate="")},searchForm:{handler:function(t,e){var a=this;t&&this.$http.get("/articles",{params:this.FormData()}).then((function(t){a.tableData=t.data.data.results,a.tot=t.data.data.total_count}))},deep:!0,immediate:!0}},methods:{getSonId:function(t){this.searchForm.channel_id=t},FormData:function(){var t=this.searchForm,e={};for(var a in t)t[a]&&(e[a]=t[a]);return e},getArticle:function(){var t=this;this.$http.get("/articles").then((function(e){t.tableData=e.data.data.results,t.tot=e.data.data.total_count})).catch((function(t){console.log(t)})),this.$http.get("/channels").then((function(e){t.options=e.data.data.channels})).catch((function(t){console.log(t)}))},handleSizeChange:function(t){this.searchForm.per_page=t},handleCurrentChange:function(t){this.searchForm.page=t},del:function(t){var e=this;this.$confirm("确认删除吗","确认信息",{distinguishCancelAndClose:!0,cancelButtonText:"取消",confirmButtonText:"确定"}).then((function(){e.$http.delete("/articles/".concat(t)).then((function(t){console.log(t),e.getArticle()})).catch((function(t){return console.log(t)}))})).catch((function(t){e.$message({type:"info",message:"已取消"})}))},eild:function(t){this.$router.push("./amend".concat(t))}}},r=o,l=(a("cf54"),a("2877")),c=Object(l["a"])(r,s,n,!1,null,"5d5d09c6",null);e["default"]=c.exports}}]);
//# sourceMappingURL=chunk-ea23a238.047396c0.js.map